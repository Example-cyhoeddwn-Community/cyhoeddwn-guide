<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Grant/revoke admin privileges - cyhoeddwn help</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Grant/revoke admin privileges | cyhoeddwn help</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="Grant/revoke admin privileges" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Grant/revoke admin privileges" /> <meta property="og:description" content="Grant/revoke admin privileges" /> <link rel="canonical" href="/docs/admin/make_admin/" /> <meta property="og:url" content="/docs/admin/make_admin/" /> <meta property="og:site_name" content="cyhoeddwn help" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2021-09-09T13:04:33+00:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Grant/revoke admin privileges" /> <script type="application/ld+json"> {"description":"Grant/revoke admin privileges","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/logo.png"}},"url":"/docs/admin/make_admin/","@type":"BlogPosting","headline":"Grant/revoke admin privileges","dateModified":"2021-09-09T13:04:33+00:00","datePublished":"2021-09-09T13:04:33+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"/docs/admin/make_admin/"},"@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/docs/about/index/" class="nav-list-link">About</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/admin/index/" class="nav-list-link">Administration</a><ul class="nav-list "><li class="nav-list-item active"><a href="/docs/admin/make_admin/" class="nav-list-link active">Grant/revoke admin privileges</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/deployment/index/" class="nav-list-link">Deploying cyhoeddwn</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/deployment/stakeholder_engagement/" class="nav-list-link">Stakeholder engagement</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/deployment/cms_deployment/" class="nav-list-link">CMS deployment</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/deployment/architecture/" class="nav-list-link">Architecture</a> </li><li class="nav-list-item "> <a href="/docs/deployment/domains/" class="nav-list-link">Domains</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/deployment/display_deployment/" class="nav-list-link">Display deployment</a><ul class="nav-list"><li class="nav-list-item "> <a href="/docs/deployment/picking_raspi/" class="nav-list-link">Picking Raspberries</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/getting_started/index/" class="nav-list-link">Getting Started</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/getting_started/new_user/" class="nav-list-link">Signing up</a></li><li class="nav-list-item "><a href="/docs/getting_started/sign_in/" class="nav-list-link">Logging in</a></li><li class="nav-list-item "><a href="/docs/getting_started/sign_out/" class="nav-list-link">Logging out</a></li><li class="nav-list-item "><a href="/docs/getting_started/password_reset/" class="nav-list-link">Forgotten password</a></li><li class="nav-list-item "><a href="/docs/getting_started/new_post/" class="nav-list-link">Creating a post</a></li><li class="nav-list-item "><a href="/docs/getting_started/edit_post/" class="nav-list-link">Editing a post</a></li><li class="nav-list-item "><a href="/docs/getting_started/moderation/" class="nav-list-link">Post Moderation</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/guide/index/" class="nav-list-link">Maintaining the guide</a><ul class="nav-list "><li class="nav-list-item "><a href="/docs/guide/org_settings/" class="nav-list-link">GitHub organization settings</a></li><li class="nav-list-item "><a href="/docs/guide/fork/" class="nav-list-link">Forking cyhoeddwn-guide</a></li><li class="nav-list-item "><a href="/docs/guide/example/" class="nav-list-link">Example workflow</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/docs/guidelines/index/" class="nav-list-link">Community guidelines</a><ul class="nav-list "></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search cyhoeddwn help" aria-label="Search cyhoeddwn help" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/docs/admin/index/">Administration</a></li> <li class="breadcrumb-nav-list-item"><span>Grant/revoke admin privileges</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="grantrevoke-admin-privileges"> <a href="#grantrevoke-admin-privileges" class="anchor-heading" aria-labelledby="grantrevoke-admin-privileges"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Grant/revoke admin privileges </h1> <p><strong>Attention:</strong> Administrator privileges confer rights to users to perform administrative actions, such as removing users and resources. Such actions are to be used with great care and after a careful and considered decision process!</p> <p><strong>Technical prerequisites:</strong> Access to the <code class="language-plaintext highlighter-rouge">rails</code> console (and knowledge of how to use basic Ruby).</p> <h2 id="granting-admin-privileges"> <a href="#granting-admin-privileges" class="anchor-heading" aria-labelledby="granting-admin-privileges"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Granting admin privileges </h2> <p>From a terminal, access a <code class="language-plaintext highlighter-rouge">rails console</code> session. If you are accessing a machine using <code class="language-plaintext highlighter-rouge">ssh</code> or have a local session, simply type <code class="language-plaintext highlighter-rouge">rails console</code> or <code class="language-plaintext highlighter-rouge">bundle exec rails console</code> while in the directory where cyhoeddwn has been installed. If you are using Heroku, change directory on your local machine to where you have deployed cyhoeddwn and launch the console using <code class="language-plaintext highlighter-rouge">heroku run rails console</code> or <code class="language-plaintext highlighter-rouge">heroku run bundle exec rails console</code>, this may take a little while to load.</p> <p>In either case you will be presented with an interactive Ruby (<code class="language-plaintext highlighter-rouge">irb</code>) prompt.</p> <p><img src="/assets/img/admin/irb.png" alt="" /></p> <p>You’ll need to find the user from Active Record, to do this, set a variable (say <code class="language-plaintext highlighter-rouge">user</code>) by using the <code class="language-plaintext highlighter-rouge">find_by</code> method of the <code class="language-plaintext highlighter-rouge">User</code> class. For example:</p> <div class="language-rb highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">user</span> <span class="o">=</span> <span class="no">User</span><span class="p">.</span><span class="nf">find_by</span><span class="p">(</span><span class="ss">email: </span><span class="s1">'genevieve@becquerel.me'</span><span class="p">)</span>
</code></pre></div></div> <p>Typing the variable <code class="language-plaintext highlighter-rouge">user</code> at the prompt will render the user’s Active Record entry, as seen below:</p> <p><img src="/assets/img/admin/user_preview.png" alt="" /></p> <p>As you can see in this case, the boolean flag for <code class="language-plaintext highlighter-rouge">admin</code> is set to <code class="language-plaintext highlighter-rouge">false</code>, we’ll set this to <code class="language-plaintext highlighter-rouge">true</code> by typing the two following commands, which both switch the boolean to <code class="language-plaintext highlighter-rouge">true</code> but will commit changes to the database.</p> <div class="language-rb highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">user</span><span class="p">.</span><span class="nf">admin</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">user</span><span class="p">.</span><span class="nf">save!</span>
</code></pre></div></div> <p><img src="/assets/img/admin/user_save.png" alt="" /></p> <h2 id="revoke-admin-privileges"> <a href="#revoke-admin-privileges" class="anchor-heading" aria-labelledby="revoke-admin-privileges"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Revoke admin privileges </h2> <p>Perform the same actions as previous but substitute <code class="language-plaintext highlighter-rouge">true</code> for <code class="language-plaintext highlighter-rouge">false</code> in the <code class="language-plaintext highlighter-rouge">user.admin = true</code> line.</p> <hr> <footer> <p class="text-small text-grey-dk-100 mb-0"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.<br>cyhoeddwn, software for managing content for connected rural pervasive displays.<br>Made with ❤️ by <a href="https://dev.becquerel.me/">Genevieve Clifford</a></p> <div class="d-flex mt-2"> <p class="text-small text-grey-dk-000 mb-0 mr-2"> Page last modified: <span class="d-inline-block">Jul 4 2021 at 11:21 AM</span>. </p> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
